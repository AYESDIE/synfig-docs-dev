Питонизация
===========

Synfig запускается в Python или Python запускается в Synfig?
------------------------------------------------------------
Python в Synfig. Так получится максимально бесшовный переход


Каким образом будет происходить общение Python и Synfig?
--------------------------------------------------------
В каждый объект/функцию Python будет передаваться (при необходимости)
экземпляр специального объекта SynfigPy, у которого будут экспортированы методы
через которые и будет происходить обмен информацией.

Что такое PyTrans?
------------------
PyTrans это специальный объект c++, который вызывает встроенный Python. В данный момент
он нужен как промежуточное звено для того, чтобы конвертировать типы и параметры в формат,
понятный Python.

Что получится по завершении питонизации?
----------------------------------------
Мы получим GUI, полностью написанный на Python с импортируемой библиотекой Synfig, которая 
будет вызываться в тех случаях когда нужна скорость

Какие от этого плюсы?
---------------------
Пользователи, знакомые с программированием, смогут дорабатывать Synfig "на лету" без необходимости
подготавливать окружение. Это должно привести к более быстрому развитию проекта. Например, на данном 
этапе пользователь смог бы добавить/исправить preset для экспорта в ffmpeg и отправить PR.

Также мы сможем избавиться от ряда проблем, связанных с некорректным использованием указателей 
(сейчас это приводит к значительным затратам на нахождение и устранение проблемы).


Кандидаты на питонизацию
------------------------


Диалоговое окно "О программе"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Вообще никаких проблем - вызывает скрипт, он создаёт окно и выводит его. Какого-либо обмена информацией или передачи параметров - нет.


Окно слоёв
~~~~~~~~~~
Задачи: отображает дерево слоёв.

Вопрос: как хранится дерево слоёв в Synfig - в виде дерева или достаточно плоского списка?

**Экспортируемые методы**
::

    # Установить выделенные слои
    PyTrans->layers_set_selected(int[] layer_ids)

**Импортируемые методы**
::

    # Устанавливает выделенные слои/объекты в окне рисования
    Synfig->layers_set_selected(ids)

    # Добавляет новый слой указанного типа (тип - число, для более простого преобразования)
    Synfig->layers_new(id, type)

    # Удаляет указанные слои
    Synfig->layers_delete(ids)

    # Меняет порядок слоёв. ids передаются в порядке от верхнего к нижнему
    Synfig->layers_order(ids)

    # Группирует указанные слои. Тут возможно нужно указать в какой тип группы группировать?
    Synfig->layers_group(ids)


Окно рендера (File->Render)
~~~~~~~~~~~~~~~~~~~~~~~~~~~
По идее - тоже абсолютно самостоятельное окно. 

Вопрос - в каком формате подаются данные на вход ffmpeg и прочим преобразователям?



